name: Telegram Push Notification

on:
  push:
    branches:
      - "**"

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Send Telegram notification to topic
        run: |
          curl -X POST "https://api.telegram.org/bot${{ secrets.TELEGRAM_BOT_TOKEN }}/sendMessage" \
            -H "Content-Type: application/json" \
            -d '{
              "chat_id": "${{ secrets.TELEGRAM_CHAT_ID }}",
              "message_thread_id": ${{ secrets.TELEGRAM_TOPIC_ID }},
              "text": "ðŸš€ *New Push to Repository*\n\nðŸ“¦ *Repository:* ${{ github.repository }}\nðŸŒ¿ *Branch:* `${{ github.ref_name }}`\nðŸ‘¤ *Author:* ${{ github.actor }}\n\nðŸ’¬ *Commit Message:*\n${{ github.event.head_commit.message }}\n\nðŸ”— [View Commit](${{ github.event.head_commit.url }})",
              "parse_mode": "Markdown"
            }'
